# Building a real-time analytics dashboard with Streamlit, Apache Pinot, and Apache Kafka

Spin up all components

[source, bash]
----
docker-compose up
----

Ingest Wikipedia events

[source, bash]
----
pipenv shell
----

Create Kafka topic

[source, bash]
----
docker exec -it kafka-wiki kafka-topics.sh \
  --bootstrap-server localhost:9092 \
  --partitions 5 \
  --topic wiki_events \
  --create 
----

[source, bash]
----
python wiki_to_kafka.py
----

Check Wikipedia events are ingesting

[source, bash]
----
docker exec -it kafka-wiki kafka-run-class.sh kafka.tools.GetOffsetShell \
  --broker-list localhost:9092 \
  --topic wiki_events
----

[souce, bash]
----
docker exec -it kafka-wiki kafka-console-consumer.sh \
  --bootstrap-server localhost:9092 \
  --topic wiki_events \
  --from-beginning
----

Add Pinot Table

[source, bash]
----
docker exec -it pinot-controller-wiki bin/pinot-admin.sh AddTable \
  -tableConfigFile /config/table.json \
  -schemaFile /config/schema.json \
  -exec
----

Run Streamlit app

[source, bash]
----
streamlit run streamlit/app.py
----